



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.4">
    
    
      
        <title>Extensibility - Project "Piper": Continuous Delivery for the SAP Ecosystem</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#extensibility" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Project "Piper": Continuous Delivery for the SAP Ecosystem" class="md-header-nav__button md-logo">
          
            <img src="../images/piper_head_white.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Project "Piper": Continuous Delivery for the SAP Ecosystem
              </span>
              <span class="md-header-nav__topic">
                Extensibility
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/SAP/jenkins-library/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Project "Piper": Continuous Delivery for the SAP Ecosystem" class="md-nav__button md-logo">
      
        <img src="../images/piper_head_white.png" width="48" height="48">
      
    </a>
    Project "Piper": Continuous Delivery for the SAP Ecosystem
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/SAP/jenkins-library/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../guidedtour/" title="Getting Started With Project "Piper"" class="md-nav__link">
      Getting Started With Project "Piper"
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Infrastructure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Infrastructure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../infrastructure/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../infrastructure/customjenkins/" title="Custom Jenkins Setup" class="md-nav__link">
      Custom Jenkins Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Pipelines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Pipelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      ABAP Environment pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        ABAP Environment pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/abapEnvironment/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/abapEnvironment/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      General purpose pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        General purpose pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-3" type="checkbox" id="nav-5-2-3">
    
    <label class="md-nav__link" for="nav-5-2-3">
      Stages
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-3">
        Stages
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/init/" title="Init Stage" class="md-nav__link">
      Init Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/prvoting/" title="Pull-Request Voting Stage" class="md-nav__link">
      Pull-Request Voting Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/build/" title="Build Stage" class="md-nav__link">
      Build Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/additionalunittests/" title="Additional Unit Test Stage" class="md-nav__link">
      Additional Unit Test Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/integration/" title="Integration Stage" class="md-nav__link">
      Integration Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/acceptance/" title="Acceptance Stage" class="md-nav__link">
      Acceptance Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/security/" title="Security Stage" class="md-nav__link">
      Security Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/performance/" title="Performance Stage" class="md-nav__link">
      Performance Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/compliance/" title="Compliance" class="md-nav__link">
      Compliance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/confirm/" title="Confirm Stage" class="md-nav__link">
      Confirm Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/promote/" title="Promote Stage" class="md-nav__link">
      Promote Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stages/release/" title="Release Stage" class="md-nav__link">
      Release Stage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      SAP Cloud SDK pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        SAP Cloud SDK pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/cloud-sdk/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/cloud-sdk/build-tools/" title="Build Tools" class="md-nav__link">
      Build Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelines/cloud-sdk/cloud-qualities/" title="Cloud Qualities" class="md-nav__link">
      Cloud Qualities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Scenarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Scenarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/changeManagement/" title="Build and Deploy Hybrid Applications with Jenkins and SAP Solution Manager" class="md-nav__link">
      Build and Deploy Hybrid Applications with Jenkins and SAP Solution Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/ui5-sap-cp/Readme/" title="Build and Deploy SAP UI5 or SAP Fiori Applications on SAP Cloud Platform with Jenkins" class="md-nav__link">
      Build and Deploy SAP UI5 or SAP Fiori Applications on SAP Cloud Platform with Jenkins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/CAP_Scenario/" title="Build and Deploy Applications with Jenkins and the SAP Cloud Application Programming Model" class="md-nav__link">
      Build and Deploy Applications with Jenkins and the SAP Cloud Application Programming Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/TMS_Extension/" title="Integrate SAP Cloud Platform Transport Management Into Your CI/CD Pipeline" class="md-nav__link">
      Integrate SAP Cloud Platform Transport Management Into Your CI/CD Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/xsa-deploy/Readme/" title="Build and Deploy SAP Fiori Applications on SAP HANA XS Advanced" class="md-nav__link">
      Build and Deploy SAP Fiori Applications on SAP HANA XS Advanced
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios/upload-to-transportrequest/Readme/" title="Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins" class="md-nav__link">
      Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Extensibility
      </label>
    
    <a href="./" title="Extensibility" class="md-nav__link md-nav__link--active">
      Extensibility
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-extend-individual-stages" title="1. Extend individual stages" class="md-nav__link">
    1. Extend individual stages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#practical-example" title="Practical example" class="md-nav__link">
    Practical example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-modified-ready-made-pipeline" title="2. Modified Ready-Made Pipeline" class="md-nav__link">
    2. Modified Ready-Made Pipeline
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-project" title="Single project" class="md-nav__link">
    Single project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-projects" title="Multiple projects" class="md-nav__link">
    Multiple projects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-stay-up-to-date" title="How to stay up-to-date" class="md-nav__link">
    How to stay up-to-date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-tips-and-information" title="Advanced tips and information" class="md-nav__link">
    Advanced tips and information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-new-pipeline-from-scratch" title="3. New Pipeline from Scratch" class="md-nav__link">
    3. New Pipeline from Scratch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Library steps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Library steps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/abapEnvironmentCheckoutBranch/" title="abapEnvironmentCheckoutBranch" class="md-nav__link">
      abapEnvironmentCheckoutBranch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/abapEnvironmentPullGitRepo/" title="abapEnvironmentPullGitRepo" class="md-nav__link">
      abapEnvironmentPullGitRepo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/abapEnvironmentRunATCCheck/" title="abapEnvironmentRunATCCheck" class="md-nav__link">
      abapEnvironmentRunATCCheck
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/artifactPrepareVersion/" title="artifactPrepareVersion" class="md-nav__link">
      artifactPrepareVersion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/batsExecuteTests/" title="batsExecuteTests" class="md-nav__link">
      batsExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/buildExecute/" title="buildExecute" class="md-nav__link">
      buildExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/checkChangeInDevelopment/" title="checkChangeInDevelopment" class="md-nav__link">
      checkChangeInDevelopment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/checkmarxExecuteScan/" title="checkmarxExecuteScan" class="md-nav__link">
      checkmarxExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/checksPublishResults/" title="checksPublishResults" class="md-nav__link">
      checksPublishResults
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/cfManifestSubstituteVariables/" title="cfManifestSubstituteVariables" class="md-nav__link">
      cfManifestSubstituteVariables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/cloudFoundryCreateService/" title="cloudFoundryCreateService" class="md-nav__link">
      cloudFoundryCreateService
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/cloudFoundryCreateServiceKey/" title="cloudFoundryCreateServiceKey" class="md-nav__link">
      cloudFoundryCreateServiceKey
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/cloudFoundryDeleteService/" title="cloudFoundryDeleteService" class="md-nav__link">
      cloudFoundryDeleteService
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/cloudFoundryDeploy/" title="cloudFoundryDeploy" class="md-nav__link">
      cloudFoundryDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/commonPipelineEnvironment/" title="commonPipelineEnvironment" class="md-nav__link">
      commonPipelineEnvironment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/containerExecuteStructureTests/" title="containerExecuteStructureTests" class="md-nav__link">
      containerExecuteStructureTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/containerPushToRegistry/" title="containerPushToRegistry" class="md-nav__link">
      containerPushToRegistry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/detectExecuteScan/" title="detectExecuteScan" class="md-nav__link">
      detectExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/dockerExecute/" title="dockerExecute" class="md-nav__link">
      dockerExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/dockerExecuteOnKubernetes/" title="dockerExecuteOnKubernetes" class="md-nav__link">
      dockerExecuteOnKubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/dubExecute/" title="dubExecute" class="md-nav__link">
      dubExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/durationMeasure/" title="durationMeasure" class="md-nav__link">
      durationMeasure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/fortifyExecuteScan/" title="fortifyExecuteScan" class="md-nav__link">
      fortifyExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gaugeExecuteTests/" title="gaugeExecuteTests" class="md-nav__link">
      gaugeExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gctsCloneRepository/" title="gctsCloneRepository" class="md-nav__link">
      gctsCloneRepository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gctsCreateRepository/" title="gctsCreateRepository" class="md-nav__link">
      gctsCreateRepository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gctsDeploy/" title="gctsDeploy" class="md-nav__link">
      gctsDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gctsExecuteABAPUnitTests/" title="gctsExecuteABAPUnitTests" class="md-nav__link">
      gctsExecuteABAPUnitTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/gctsRollback/" title="gctsRollback" class="md-nav__link">
      gctsRollback
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/githubPublishRelease/" title="githubPublishRelease" class="md-nav__link">
      githubPublishRelease
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/hadolintExecute/" title="hadolintExecute" class="md-nav__link">
      hadolintExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/handlePipelineStepErrors/" title="handlePipelineStepErrors" class="md-nav__link">
      handlePipelineStepErrors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/healthExecuteCheck/" title="healthExecuteCheck" class="md-nav__link">
      healthExecuteCheck
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/influxWriteData/" title="influxWriteData" class="md-nav__link">
      influxWriteData
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/jenkinsMaterializeLog/" title="jenkinsMaterializeLog" class="md-nav__link">
      jenkinsMaterializeLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/kanikoExecute/" title="kanikoExecute" class="md-nav__link">
      kanikoExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/karmaExecuteTests/" title="karmaExecuteTests" class="md-nav__link">
      karmaExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/kubernetesDeploy/" title="kubernetesDeploy" class="md-nav__link">
      kubernetesDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/mailSendNotification/" title="mailSendNotification" class="md-nav__link">
      mailSendNotification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/malwareExecuteScan/" title="malwareExecuteScan" class="md-nav__link">
      malwareExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/mavenBuild/" title="mavenBuild" class="md-nav__link">
      mavenBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/mavenExecute/" title="mavenExecute" class="md-nav__link">
      mavenExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/mavenExecuteStaticCodeChecks/" title="mavenExecuteStaticCodeChecks" class="md-nav__link">
      mavenExecuteStaticCodeChecks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/mtaBuild/" title="mtaBuild" class="md-nav__link">
      mtaBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/multicloudDeploy/" title="multicloudDeploy" class="md-nav__link">
      multicloudDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/neoDeploy/" title="neoDeploy" class="md-nav__link">
      neoDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/newmanExecute/" title="newmanExecute" class="md-nav__link">
      newmanExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/nexusUpload/" title="nexusUpload" class="md-nav__link">
      nexusUpload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/npmExecuteEndToEndTests/" title="npmExecuteEndToEndTests" class="md-nav__link">
      npmExecuteEndToEndTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/npmExecuteLint/" title="npmExecuteLint" class="md-nav__link">
      npmExecuteLint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/npmExecuteScripts/" title="npmExecuteScripts" class="md-nav__link">
      npmExecuteScripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/pipelineExecute/" title="pipelineExecute" class="md-nav__link">
      pipelineExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/pipelineRestartSteps/" title="pipelineRestartSteps" class="md-nav__link">
      pipelineRestartSteps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/pipelineStashFiles/" title="pipelineStashFiles" class="md-nav__link">
      pipelineStashFiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/pipelineStashFilesAfterBuild/" title="pipelineStashFilesAfterBuild" class="md-nav__link">
      pipelineStashFilesAfterBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/pipelineStashFilesBeforeBuild/" title="pipelineStashFilesBeforeBuild" class="md-nav__link">
      pipelineStashFilesBeforeBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/piperLoadGlobalExtensions/" title="piperLoadGlobalExtensions" class="md-nav__link">
      piperLoadGlobalExtensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/piperPublishWarnings/" title="piperPublishWarnings" class="md-nav__link">
      piperPublishWarnings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/prepareDefaultValues/" title="prepareDefaultValues" class="md-nav__link">
      prepareDefaultValues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/protecodeExecuteScan/" title="protecodeExecuteScan" class="md-nav__link">
      protecodeExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/seleniumExecuteTests/" title="seleniumExecuteTests" class="md-nav__link">
      seleniumExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/setupCommonPipelineEnvironment/" title="setupCommonPipelineEnvironment" class="md-nav__link">
      setupCommonPipelineEnvironment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/slackSendNotification/" title="slackSendNotification" class="md-nav__link">
      slackSendNotification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/snykExecute/" title="snykExecute" class="md-nav__link">
      snykExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/sonarExecuteScan/" title="sonarExecuteScan" class="md-nav__link">
      sonarExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/spinnakerTriggerPipeline/" title="spinnakerTriggerPipeline" class="md-nav__link">
      spinnakerTriggerPipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/testsPublishResults/" title="testsPublishResults" class="md-nav__link">
      testsPublishResults
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/tmsUpload/" title="tmsUpload" class="md-nav__link">
      tmsUpload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/transportRequestCreate/" title="transportRequestCreate" class="md-nav__link">
      transportRequestCreate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/transportRequestRelease/" title="transportRequestRelease" class="md-nav__link">
      transportRequestRelease
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/transportRequestUploadFile/" title="transportRequestUploadFile" class="md-nav__link">
      transportRequestUploadFile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/uiVeri5ExecuteTests/" title="uiVeri5ExecuteTests" class="md-nav__link">
      uiVeri5ExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/whitesourceExecuteScan/" title="whitesourceExecuteScan" class="md-nav__link">
      whitesourceExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/writeTemporaryCredentials/" title="writeTemporaryCredentials" class="md-nav__link">
      writeTemporaryCredentials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/xsDeploy/" title="xsDeploy" class="md-nav__link">
      xsDeploy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Library Steps (deprecated)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Library Steps (deprecated)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/artifactSetVersion/" title="artifactSetVersion" class="md-nav__link">
      artifactSetVersion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../steps/npmExecute/" title="npmExecute" class="md-nav__link">
      npmExecute
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cli/" title="Command line tool" class="md-nav__link">
      Command line tool
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-extend-individual-stages" title="1. Extend individual stages" class="md-nav__link">
    1. Extend individual stages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#practical-example" title="Practical example" class="md-nav__link">
    Practical example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-modified-ready-made-pipeline" title="2. Modified Ready-Made Pipeline" class="md-nav__link">
    2. Modified Ready-Made Pipeline
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-project" title="Single project" class="md-nav__link">
    Single project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-projects" title="Multiple projects" class="md-nav__link">
    Multiple projects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-stay-up-to-date" title="How to stay up-to-date" class="md-nav__link">
    How to stay up-to-date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-tips-and-information" title="Advanced tips and information" class="md-nav__link">
    Advanced tips and information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-new-pipeline-from-scratch" title="3. New Pipeline from Scratch" class="md-nav__link">
    3. New Pipeline from Scratch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SAP/jenkins-library/edit/master/documentation/docs/extensibility.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="extensibility">Extensibility<a class="headerlink" href="#extensibility" title="Permanent link">&para;</a></h1>
<p>When using one of the ready-made pipelines of project "Piper", you don't have to write custom pipeline code.
The pipelines are centrally maintained and can be used with only a small amount of declarative configuration as documented <a href="../configuration/">here</a>.</p>
<p>For the vast majority of <em>standard</em> projects, the features of the ready-made pipelines should be enough to implement <a href="https://martinfowler.com/bliki/ContinuousDelivery.html">Continuous Delivery</a> with little effort in a best-practice compliant way.
If you miss a feature or discover a bug in one of our pipelines, please see if there is already an <a href="https://github.com/SAP/jenkins-library/issues">open issue in our GitHub repository</a> and if not, open a new one.</p>
<p>In some cases, it's not desirable to include specialized features in the ready-made pipelines.
However, you can still benefit from their qualities, if you address your requirements through an <strong>extension</strong>.
Extensions are custom bits of pipeline coding, which you can use to implement special requirements.</p>
<p>This page explains extensibility options in project "Piper".
For a high level overview of available options and how to interface with them, see this figure:</p>
<p><img alt="Library Setup" src="../images/levels-of-extensibility.png" title="Extensibility Options" /></p>
<p>Before building extensions, please make sure that there is no alternative that works better for you.</p>
<p>Options for extensibility, in the order in which we recommend considering them:</p>
<h2 id="1-extend-individual-stages">1. Extend individual stages<a class="headerlink" href="#1-extend-individual-stages" title="Permanent link">&para;</a></h2>
<p>In this option, you use the centrally maintained pipeline but can change individual stages, if required.</p>
<p>To do so, create a file called <code>&lt;StageName&gt;.groovy</code> (for example, <code>Acceptance.groovy</code> or <code>lint.groovy</code>) in <code>.pipeline/extensions/</code> in the source code repository of your application.</p>
<p>For this, you need to know the technical identifiers for stage names.</p>
<ul>
<li>For the general purpose pipeline, you can find them in <a href="https://github.com/SAP/jenkins-library/blob/master/vars/piperPipeline.groovy">the pipeline source file</a>.</li>
<li>For the SAP Cloud SDK pipeline, you can find them in <a href="https://github.com/SAP/cloud-s4-sdk-pipeline-lib/search?q=%22def+stageName+%3D%22">this GitHub search query</a>.</li>
</ul>
<p>The centrally maintained pipeline checks if such a file exists and if it does, executes it.
A parameter of type <code>Map</code> that contains the following keys is passed to the extension:</p>
<ul>
<li><code>script</code>: Defines the global script environment of the <code>Jenkinsfile</code> run. This makes sure that the correct configuration environment can be passed to project "Piper" steps and allows access to the <code>commonPipelineEnvironment</code>, for example.</li>
<li><code>originalStage</code>: Allows you to execute the "original" stage at any place in your script. If omitting a call to <code>originalStage()</code>, only your code is executed.</li>
<li><code>stageName</code>: Name of the current stage</li>
<li><code>config</code>: Configuration of the stage and general config (including all defaults)</li>
</ul>
<p>Here is a simple example for such an extension, which you can use as a starting point:</p>
<div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="nf">call</span><span class="o">(</span><span class="n">Map</span> <span class="n">params</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">//access stage name</span>
  <span class="n">echo</span> <span class="s2">&quot;Start - Extension for stage: ${params.stageName}&quot;</span>

  <span class="c1">//access config</span>
  <span class="n">echo</span> <span class="s2">&quot;Current stage config: ${params.config}&quot;</span>

  <span class="c1">//execute original stage as defined in the template</span>
  <span class="n">params</span><span class="o">.</span><span class="na">originalStage</span><span class="o">()</span>

  <span class="c1">//access overall pipeline script object</span>
  <span class="n">echo</span> <span class="s2">&quot;Branch: ${params.script.commonPipelineEnvironment.gitBranch}&quot;</span>

  <span class="n">echo</span> <span class="s2">&quot;End - Extension for stage: ${params.stageName}&quot;</span>
<span class="o">}</span>
<span class="k">return</span> <span class="k">this</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title"><code>return this</code></p>
<p>Don't forget the <code>return this</code>, which is required at the end of <em>all</em> extension scripts.
This is due to how Groovy loads scripts internally.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Init stage cannot be extended</p>
<p>Please note that the <code>Init</code> stage also checks out your current repository including your extensions.<br />
Therefore, it is not possible to use extensions on this stage.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Disable Extensions Execution</p>
<p>By default, there is a possibility for extensions to get executed. In case of disabling it, please ensure to set <code>PIPER_DISABLE_EXTENSIONS</code> to <code>true</code>.
Setting this parameter to <code>true</code> excludes the execution of extension files in <code>.pipeline/extensions/&lt;StageName&gt;.groovy</code>.</p>
</div>
<h3 id="practical-example">Practical example<a class="headerlink" href="#practical-example" title="Permanent link">&para;</a></h3>
<p>For a more practical example, you can use extensions in the SAP Cloud SDK pipeline to add custom linters to your pipeline.</p>
<p>A linter is a tool that can check the source code for certain stylistic criteria. Many teams choose to use a linter to ensure a common programming style.</p>
<p>For example, if you want to use <a href="https://checkstyle.sourceforge.io/">Checkstyle</a> in your codebase, you might use an extension similar to this one in a file called <code>.pipeline/extensions/lint.groovy</code> in your project:</p>
<div class="codehilite"><pre><span></span><span class="kt">def</span> <span class="nf">call</span><span class="o">(</span><span class="n">Map</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">parameters</span><span class="o">.</span><span class="na">originalStage</span><span class="o">()</span> <span class="c1">// Runs the built-in linters</span>

    <span class="n">mavenExecute</span><span class="o">(</span>
        <span class="nl">script:</span> <span class="n">parameters</span><span class="o">.</span><span class="na">script</span><span class="o">,</span>
        <span class="nl">flags:</span> <span class="o">[</span><span class="s1">&#39;--batch-mode&#39;</span><span class="o">],</span>
        <span class="nl">pomPath:</span> <span class="s1">&#39;application/pom.xml&#39;</span><span class="o">,</span>
        <span class="nl">m2Path:</span> <span class="n">s4SdkGlobals</span><span class="o">.</span><span class="na">m2Directory</span><span class="o">,</span>
        <span class="nl">goals:</span> <span class="o">[</span><span class="s1">&#39;checkstyle:checkstyle&#39;</span><span class="o">],</span>
    <span class="o">)</span>

    <span class="n">recordIssues</span> <span class="nl">blameDisabled:</span> <span class="kc">true</span><span class="o">,</span>
        <span class="nl">enabledForFailure:</span> <span class="kc">true</span><span class="o">,</span>
        <span class="nl">aggregatingResults:</span> <span class="kc">false</span><span class="o">,</span>
        <span class="nl">tool:</span> <span class="n">checkStyle</span><span class="o">()</span>
<span class="o">}</span>

<span class="k">return</span> <span class="k">this</span>
</pre></div>

<p>This code snippet has three components, let's see what is happening here:</p>
<p>Firstly, we run the original stage.
This runs ESLint on JavaScript/TypeScript source files as this is a standard feature of SAP Cloud SDK pipeline.</p>
<p>Secondly, we run the checkstyle maven plugin using the <code>mavenExecute</code> Jenkins library step as provided by project "Piper".
This serves as an example for how flexible you can re-use what project "Piper" already provides in your extension.</p>
<p>Finally, we use the Jenkins <a href="https://plugins.jenkins.io/warnings-ng/">Warnings NG plugin</a> and its step <code>recordIssues</code> to make the findings visible in the Jenkins user interface.</p>
<p>This example can be adapted for other linters of your choice.
Be sure to checkout the <em>Library steps</em> section of this documentation if you want to do this.
Project "Piper" provides some basic building blocks such as <code>dockerExecute</code> and the already mentioned <code>mavenExecute</code> which might be helpful.</p>
<h2 id="2-modified-ready-made-pipeline">2. Modified Ready-Made Pipeline<a class="headerlink" href="#2-modified-ready-made-pipeline" title="Permanent link">&para;</a></h2>
<p>This option describes how you can copy and paste one of the centrally maintained pipelines to make changes to it that are not possible otherwise.
For example, you can't change the order of stages and the stages that run in parallel or add new stages to a centrally maintained pipeline.</p>
<p>A <em>modified Ready-Made Pipeline</em> allows you to modify your <a href="https://jenkins.io/doc/book/pipeline/syntax/#declarative-pipeline">declarative pipeline based on the syntax Jenkins provides</a>.</p>
<p>This might be done for an individual project (in the <code>Jenkinsfile</code>), or in a separate Git repository so it can be used for multiple projects.</p>
<h3 id="single-project">Single project<a class="headerlink" href="#single-project" title="Permanent link">&para;</a></h3>
<p>The default <code>Jenkinsfile</code> of centrally maintained pipelines does nothing else but loading the pipeline and running it.
This is convenient but limits the modifiable aspects of the pipeline.</p>
<p>If one of your projects uses the pipeline, the easiest way to do this modification is to copy the pipeline into your <code>Jenkinsfile</code>.</p>
<p>The basic structure of your <code>Jenkinsfile</code> should be the following:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Library</span><span class="o">(</span><span class="cm">/* Shared library definition, see below */</span><span class="o">)</span> <span class="n">_</span>

<span class="n">call</span> <span class="nl">script:</span> <span class="k">this</span>

<span class="kt">void</span> <span class="nf">call</span><span class="o">(</span><span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Your pipeline code based on our ready-made pipelines</span>
<span class="o">}</span>
</pre></div>

<p>The actual pipeline code (the <code>call</code> method in the listing above) can be found here:</p>
<ul>
<li><a href="https://github.com/SAP/jenkins-library/blob/master/vars/piperPipeline.groovy">General purpose pipeline</a></li>
<li><a href="https://github.com/SAP/cloud-s4-sdk-pipeline-lib/blob/master/vars/cloudSdkPipeline.groovy">SAP Cloud SDK pipeline</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Use the correct shared library definition</p>
<p>Which shared library you need depends on the pipeline you're using.<br />
For the <a href="https://github.com/SAP/jenkins-library/blob/master/vars/piperPipeline.groovy">general purpose pipeline</a>, you need <code>'piper-lib-os'</code>.<br />
For the <a href="https://github.com/SAP/cloud-s4-sdk-pipeline-lib/blob/master/vars/cloudSdkPipeline.groovy">SAP Cloud SDK pipeline</a>, you need <code>'s4sdk-pipeline-library'</code>.</p>
</div>
<p>For the version identifier, please see the section <em>How to stay up-to-date</em> in this document.</p>
<h3 id="multiple-projects">Multiple projects<a class="headerlink" href="#multiple-projects" title="Permanent link">&para;</a></h3>
<p>If you have multiple projects that share a similar architecture, it might be desirable to share one modified pipeline amongst them.
Similar to what you can do in an individual <code>Jenkinsfile</code>, you can copy the pipeline to your own shared library and modify it.</p>
<p>To do this, create a new Git repository in your preferred Git hosting service.
It must be compliant to <a href="https://jenkins.io/doc/book/pipeline/shared-libraries/">how Jenkins shared libraries are built</a>.
In a nutshell, this means that you need a <code>vars</code> directory inside which you can place a copy of your preferred pipeline.</p>
<p>A minimal example of such a library could have the following directory structure:</p>
<div class="codehilite"><pre><span></span>./vars/myCustomPipeline.groovy
./README.md
</pre></div>

<p><code>myCustomPipeline.groovy</code> contains the modified pipeline code of the <a href="https://github.com/SAP/jenkins-library/blob/master/vars/piperPipeline.groovy">general purpose pipeline</a> or <a href="https://github.com/SAP/cloud-s4-sdk-pipeline-lib/blob/master/vars/cloudSdkPipeline.groovy">SAP Cloud SDK Pipeline</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name of your custom pipeline <em>must</em> differ from the other pipelines provided by project "Piper" because Jenkins requires names across multiple libraries to be unique.</p>
</div>
<p>This library must be placed in a Git repository, which is available for Jenkins and must be configured in Jenkins <a href="https://jenkins.io/doc/book/pipeline/shared-libraries/#using-libraries">as documented here</a>.</p>
<p>The following screenshot shows an example of the configuration in Jenkins.
Note that the name (1) must be the same as the one you use in your <code>Jenkinsfile</code>.</p>
<p><img alt="Library Setup" src="../images/customPipelineLib.png" title="Library Setup" /></p>
<p>The <code>Jenkinsfile</code> of your individual projects would look similar to the following:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Library</span><span class="o">([</span><span class="s1">&#39;piper-lib-os&#39;</span><span class="o">,</span><span class="s1">&#39;my-own-pipeline&#39;</span><span class="o">])</span> <span class="n">_</span>

<span class="n">myCustomPipeline</span> <span class="nl">script:</span> <span class="k">this</span>
</pre></div>

<p>Be sure to adapt the names and version identifiers accordingly, as described in <em>How to stay up-to-date</em>.</p>
<h3 id="how-to-stay-up-to-date">How to stay up-to-date<a class="headerlink" href="#how-to-stay-up-to-date" title="Permanent link">&para;</a></h3>
<p>Regardless of which of the above options you choose, one downside of this approach is that your pipeline will be out of sync with the centrally maintained pipelines at some point in time.
We strongly recommend doing <em>as little modification as possible</em> to fulfil your requirements.
Please be aware that stages may have dependencies on each other.</p>
<div class="admonition warning">
<p class="admonition-title">Don't depend on stage implementation details</p>
<p>Your pipeline should treat <em>stages</em> as a black box, the stage implementations are not a published API and may be subject to change at any time.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Avoid accidental breaking changes</p>
<p>By default, Jenkins uses the <code>master</code> branch of shared libraries.
This way, you're always automatically using the latest and greatest version.
The downside is that in rare cases, breaking changes might happen.
Another potential issue is that your builds are not <em>repeatable</em>, that means building the same version of your application twice <em>might</em> have a different result.
For those reasons, you might want to consider to fix versions to a released version like in this example: <code>@Library('my-shared-library@v1.0') _</code><br />
Find the most recent release for the <a href="https://github.com/SAP/jenkins-library/releases">jenkins-library</a> and for the <a href="https://github.com/SAP/cloud-s4-sdk-pipeline/releases">SAP Cloud SDK Pipeline</a> on GitHub.
To stay up to date with the latest releases, you can <a href="https://help.github.com/en/github/receiving-notifications-about-activity-on-github/watching-and-unwatching-releases-for-a-repository">"watch" releases for those repositories on GitHub</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">When to go with a modified ready-made pipeline</p>
<p>This option is right for you if none of the provided ready-made pipelines serves your purpose, and individual stage extensions don't provide enough flexibility.</p>
</div>
<h3 id="advanced-tips-and-information">Advanced tips and information<a class="headerlink" href="#advanced-tips-and-information" title="Permanent link">&para;</a></h3>
<p>When you consider adding additional capabilities, your first stop should be the <a href="https://jenkins.io/doc/pipeline/steps/">Jenkins Pipeline Steps Reference</a>.
Here you get an overview of what kind of capabilities are already available and a list of related parameters, which you can use to customize the existing implementation.
The provided information should help you understand and extend the functionality of your pipeline.</p>
<h2 id="3-new-pipeline-from-scratch">3. New Pipeline from Scratch<a class="headerlink" href="#3-new-pipeline-from-scratch" title="Permanent link">&para;</a></h2>
<p>Since project "Piper" fully builds on <a href="https://jenkins.io/doc/book/pipeline-as-code/">Jenkins Pipelines as Code</a>, you can also go with your own pipeline from scratch in a <code>Jenkinsfile</code>.</p>
<div class="admonition danger">
<p class="admonition-title">Decoupling</p>
<p>If you choose this option, you will be decoupled from the innovations provided with project "Piper", unless you re-use stages (as indicated above under <a href="./#2-modified-ready-made-pipeline"><em>2. Modified ready-made pipelines</em></a>), for example.</p>
<p><strong>We recommend using this only when none of the other provided options suit your use case.</strong></p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../scenarios/upload-to-transportrequest/Readme/" title="Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins
              </span>
            </div>
          </a>
        
        
          <a href="../steps/abapEnvironmentCheckoutBranch/" title="abapEnvironmentCheckoutBranch" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                abapEnvironmentCheckoutBranch
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>