



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.4">
    
    
      
        <title>cloudFoundryDeploy - Project "Piper": Continuous Delivery for the SAP Ecosystem</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#cloudfoundrydeploy" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Project "Piper": Continuous Delivery for the SAP Ecosystem" class="md-header-nav__button md-logo">
          
            <img src="../../images/piper_head_white.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Project "Piper": Continuous Delivery for the SAP Ecosystem
              </span>
              <span class="md-header-nav__topic">
                cloudFoundryDeploy
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/SAP/jenkins-library/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Project "Piper": Continuous Delivery for the SAP Ecosystem" class="md-nav__button md-logo">
      
        <img src="../../images/piper_head_white.png" width="48" height="48">
      
    </a>
    Project "Piper": Continuous Delivery for the SAP Ecosystem
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/SAP/jenkins-library/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../guidedtour/" title="Getting Started With Project "Piper"" class="md-nav__link">
      Getting Started With Project "Piper"
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Infrastructure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Infrastructure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../infrastructure/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../infrastructure/customjenkins/" title="Custom Jenkins Setup" class="md-nav__link">
      Custom Jenkins Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Pipelines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Pipelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      ABAP Environment pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        ABAP Environment pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../pipelines/abapEnvironment/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pipelines/abapEnvironment/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      General purpose pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        General purpose pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-3" type="checkbox" id="nav-5-2-3">
    
    <label class="md-nav__link" for="nav-5-2-3">
      Stages
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-3">
        Stages
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/init/" title="Init Stage" class="md-nav__link">
      Init Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/prvoting/" title="Pull-Request Voting Stage" class="md-nav__link">
      Pull-Request Voting Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/build/" title="Build Stage" class="md-nav__link">
      Build Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/additionalunittests/" title="Additional Unit Test Stage" class="md-nav__link">
      Additional Unit Test Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/integration/" title="Integration Stage" class="md-nav__link">
      Integration Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/acceptance/" title="Acceptance Stage" class="md-nav__link">
      Acceptance Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/security/" title="Security Stage" class="md-nav__link">
      Security Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/performance/" title="Performance Stage" class="md-nav__link">
      Performance Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/compliance/" title="Compliance" class="md-nav__link">
      Compliance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/confirm/" title="Confirm Stage" class="md-nav__link">
      Confirm Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/promote/" title="Promote Stage" class="md-nav__link">
      Promote Stage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../stages/release/" title="Release Stage" class="md-nav__link">
      Release Stage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      SAP Cloud SDK pipeline
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        SAP Cloud SDK pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../pipelines/cloud-sdk/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pipelines/cloud-sdk/build-tools/" title="Build Tools" class="md-nav__link">
      Build Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pipelines/cloud-sdk/cloud-qualities/" title="Cloud Qualities" class="md-nav__link">
      Cloud Qualities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Scenarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Scenarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/changeManagement/" title="Build and Deploy Hybrid Applications with Jenkins and SAP Solution Manager" class="md-nav__link">
      Build and Deploy Hybrid Applications with Jenkins and SAP Solution Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/ui5-sap-cp/Readme/" title="Build and Deploy SAP UI5 or SAP Fiori Applications on SAP Cloud Platform with Jenkins" class="md-nav__link">
      Build and Deploy SAP UI5 or SAP Fiori Applications on SAP Cloud Platform with Jenkins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/CAP_Scenario/" title="Build and Deploy Applications with Jenkins and the SAP Cloud Application Programming Model" class="md-nav__link">
      Build and Deploy Applications with Jenkins and the SAP Cloud Application Programming Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/TMS_Extension/" title="Integrate SAP Cloud Platform Transport Management Into Your CI/CD Pipeline" class="md-nav__link">
      Integrate SAP Cloud Platform Transport Management Into Your CI/CD Pipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/xsa-deploy/Readme/" title="Build and Deploy SAP Fiori Applications on SAP HANA XS Advanced" class="md-nav__link">
      Build and Deploy SAP Fiori Applications on SAP HANA XS Advanced
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scenarios/upload-to-transportrequest/Readme/" title="Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins" class="md-nav__link">
      Build an SAP Fiori Application and Attach It to a Transport Request on an ABAP System with Jenkins
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../extensibility/" title="Extensibility" class="md-nav__link">
      Extensibility
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Library steps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Library steps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../abapEnvironmentCheckoutBranch/" title="abapEnvironmentCheckoutBranch" class="md-nav__link">
      abapEnvironmentCheckoutBranch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../abapEnvironmentPullGitRepo/" title="abapEnvironmentPullGitRepo" class="md-nav__link">
      abapEnvironmentPullGitRepo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../abapEnvironmentRunATCCheck/" title="abapEnvironmentRunATCCheck" class="md-nav__link">
      abapEnvironmentRunATCCheck
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../artifactPrepareVersion/" title="artifactPrepareVersion" class="md-nav__link">
      artifactPrepareVersion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../batsExecuteTests/" title="batsExecuteTests" class="md-nav__link">
      batsExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildExecute/" title="buildExecute" class="md-nav__link">
      buildExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../checkChangeInDevelopment/" title="checkChangeInDevelopment" class="md-nav__link">
      checkChangeInDevelopment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../checkmarxExecuteScan/" title="checkmarxExecuteScan" class="md-nav__link">
      checkmarxExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../checksPublishResults/" title="checksPublishResults" class="md-nav__link">
      checksPublishResults
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cfManifestSubstituteVariables/" title="cfManifestSubstituteVariables" class="md-nav__link">
      cfManifestSubstituteVariables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudFoundryCreateService/" title="cloudFoundryCreateService" class="md-nav__link">
      cloudFoundryCreateService
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudFoundryCreateServiceKey/" title="cloudFoundryCreateServiceKey" class="md-nav__link">
      cloudFoundryCreateServiceKey
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudFoundryDeleteService/" title="cloudFoundryDeleteService" class="md-nav__link">
      cloudFoundryDeleteService
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        cloudFoundryDeploy
      </label>
    
    <a href="./" title="cloudFoundryDeploy" class="md-nav__link md-nav__link--active">
      cloudFoundryDeploy
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description" title="Description" class="md-nav__link">
    Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-configuration" title="Step configuration" class="md-nav__link">
    Step configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" title="Dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../commonPipelineEnvironment/" title="commonPipelineEnvironment" class="md-nav__link">
      commonPipelineEnvironment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../containerExecuteStructureTests/" title="containerExecuteStructureTests" class="md-nav__link">
      containerExecuteStructureTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../containerPushToRegistry/" title="containerPushToRegistry" class="md-nav__link">
      containerPushToRegistry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../detectExecuteScan/" title="detectExecuteScan" class="md-nav__link">
      detectExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerExecute/" title="dockerExecute" class="md-nav__link">
      dockerExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerExecuteOnKubernetes/" title="dockerExecuteOnKubernetes" class="md-nav__link">
      dockerExecuteOnKubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dubExecute/" title="dubExecute" class="md-nav__link">
      dubExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../durationMeasure/" title="durationMeasure" class="md-nav__link">
      durationMeasure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fortifyExecuteScan/" title="fortifyExecuteScan" class="md-nav__link">
      fortifyExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gaugeExecuteTests/" title="gaugeExecuteTests" class="md-nav__link">
      gaugeExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gctsCloneRepository/" title="gctsCloneRepository" class="md-nav__link">
      gctsCloneRepository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gctsCreateRepository/" title="gctsCreateRepository" class="md-nav__link">
      gctsCreateRepository
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gctsDeploy/" title="gctsDeploy" class="md-nav__link">
      gctsDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gctsExecuteABAPUnitTests/" title="gctsExecuteABAPUnitTests" class="md-nav__link">
      gctsExecuteABAPUnitTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gctsRollback/" title="gctsRollback" class="md-nav__link">
      gctsRollback
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../githubPublishRelease/" title="githubPublishRelease" class="md-nav__link">
      githubPublishRelease
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hadolintExecute/" title="hadolintExecute" class="md-nav__link">
      hadolintExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../handlePipelineStepErrors/" title="handlePipelineStepErrors" class="md-nav__link">
      handlePipelineStepErrors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../healthExecuteCheck/" title="healthExecuteCheck" class="md-nav__link">
      healthExecuteCheck
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../influxWriteData/" title="influxWriteData" class="md-nav__link">
      influxWriteData
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkinsMaterializeLog/" title="jenkinsMaterializeLog" class="md-nav__link">
      jenkinsMaterializeLog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kanikoExecute/" title="kanikoExecute" class="md-nav__link">
      kanikoExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../karmaExecuteTests/" title="karmaExecuteTests" class="md-nav__link">
      karmaExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kubernetesDeploy/" title="kubernetesDeploy" class="md-nav__link">
      kubernetesDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mailSendNotification/" title="mailSendNotification" class="md-nav__link">
      mailSendNotification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../malwareExecuteScan/" title="malwareExecuteScan" class="md-nav__link">
      malwareExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mavenBuild/" title="mavenBuild" class="md-nav__link">
      mavenBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mavenExecute/" title="mavenExecute" class="md-nav__link">
      mavenExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mavenExecuteStaticCodeChecks/" title="mavenExecuteStaticCodeChecks" class="md-nav__link">
      mavenExecuteStaticCodeChecks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mtaBuild/" title="mtaBuild" class="md-nav__link">
      mtaBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multicloudDeploy/" title="multicloudDeploy" class="md-nav__link">
      multicloudDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../neoDeploy/" title="neoDeploy" class="md-nav__link">
      neoDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../newmanExecute/" title="newmanExecute" class="md-nav__link">
      newmanExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nexusUpload/" title="nexusUpload" class="md-nav__link">
      nexusUpload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../npmExecuteEndToEndTests/" title="npmExecuteEndToEndTests" class="md-nav__link">
      npmExecuteEndToEndTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../npmExecuteLint/" title="npmExecuteLint" class="md-nav__link">
      npmExecuteLint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../npmExecuteScripts/" title="npmExecuteScripts" class="md-nav__link">
      npmExecuteScripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelineExecute/" title="pipelineExecute" class="md-nav__link">
      pipelineExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelineRestartSteps/" title="pipelineRestartSteps" class="md-nav__link">
      pipelineRestartSteps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelineStashFiles/" title="pipelineStashFiles" class="md-nav__link">
      pipelineStashFiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelineStashFilesAfterBuild/" title="pipelineStashFilesAfterBuild" class="md-nav__link">
      pipelineStashFilesAfterBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipelineStashFilesBeforeBuild/" title="pipelineStashFilesBeforeBuild" class="md-nav__link">
      pipelineStashFilesBeforeBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../piperLoadGlobalExtensions/" title="piperLoadGlobalExtensions" class="md-nav__link">
      piperLoadGlobalExtensions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../piperPublishWarnings/" title="piperPublishWarnings" class="md-nav__link">
      piperPublishWarnings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prepareDefaultValues/" title="prepareDefaultValues" class="md-nav__link">
      prepareDefaultValues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../protecodeExecuteScan/" title="protecodeExecuteScan" class="md-nav__link">
      protecodeExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../seleniumExecuteTests/" title="seleniumExecuteTests" class="md-nav__link">
      seleniumExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setupCommonPipelineEnvironment/" title="setupCommonPipelineEnvironment" class="md-nav__link">
      setupCommonPipelineEnvironment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../slackSendNotification/" title="slackSendNotification" class="md-nav__link">
      slackSendNotification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../snykExecute/" title="snykExecute" class="md-nav__link">
      snykExecute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sonarExecuteScan/" title="sonarExecuteScan" class="md-nav__link">
      sonarExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spinnakerTriggerPipeline/" title="spinnakerTriggerPipeline" class="md-nav__link">
      spinnakerTriggerPipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../testsPublishResults/" title="testsPublishResults" class="md-nav__link">
      testsPublishResults
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tmsUpload/" title="tmsUpload" class="md-nav__link">
      tmsUpload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transportRequestCreate/" title="transportRequestCreate" class="md-nav__link">
      transportRequestCreate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transportRequestRelease/" title="transportRequestRelease" class="md-nav__link">
      transportRequestRelease
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transportRequestUploadFile/" title="transportRequestUploadFile" class="md-nav__link">
      transportRequestUploadFile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../uiVeri5ExecuteTests/" title="uiVeri5ExecuteTests" class="md-nav__link">
      uiVeri5ExecuteTests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../whitesourceExecuteScan/" title="whitesourceExecuteScan" class="md-nav__link">
      whitesourceExecuteScan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../writeTemporaryCredentials/" title="writeTemporaryCredentials" class="md-nav__link">
      writeTemporaryCredentials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xsDeploy/" title="xsDeploy" class="md-nav__link">
      xsDeploy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Library Steps (deprecated)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Library Steps (deprecated)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../artifactSetVersion/" title="artifactSetVersion" class="md-nav__link">
      artifactSetVersion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../npmExecute/" title="npmExecute" class="md-nav__link">
      npmExecute
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cli/" title="Command line tool" class="md-nav__link">
      Command line tool
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description" title="Description" class="md-nav__link">
    Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-configuration" title="Step configuration" class="md-nav__link">
    Step configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" title="Dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SAP/jenkins-library/edit/master/documentation/docs/steps/cloudFoundryDeploy.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="cloudfoundrydeploy">cloudFoundryDeploy<a class="headerlink" href="#cloudfoundrydeploy" title="Permanent link">&para;</a></h1>
<h2 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>Deploys an application to a test or production space within Cloud Foundry.
Deployment can be done</p>
<ul>
<li>in a standard way</li>
<li>in a zero downtime manner (using a <a href="https://martinfowler.com/bliki/BlueGreenDeployment.html">blue-green deployment approach</a>)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Deployment supports multiple deployment tools</p>
<p>Currently the following are supported:</p>
<ul>
<li>Standard <code>cf push</code> and <a href="https://github.com/bluemixgaragelondon/cf-blue-green-deploy#how-to-use">Bluemix blue-green plugin</a></li>
<li><a href="https://github.com/cloudfoundry-incubator/multiapps-cli-plugin">MTA CF CLI Plugin</a></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>Due to <a href="https://github.com/cloudfoundry/cli/issues/1445">an incompatible change</a> in the Cloud Foundry CLI, multiple buildpacks are not supported by this step.
If your <code>application</code> contains a list of <code>buildpacks</code> instead a single <code>buildpack</code>, this will be automatically re-written by the step when blue-green deployment is used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>Cloud Foundry supports the deployment of multiple applications using a single manifest file.
This option is supported with Piper.</p>
<p>In this case define <code>appName: ''</code> since the app name for the individual applications have to be defined via the manifest.
You can find details in the <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html#multi-apps">Cloud Foundry Documentation</a></p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li>Cloud Foundry organization, space and deployment user are available</li>
<li>
<p>Credentials for deployment have been configured in Jenkins with a dedicated Id</p>
<p><img alt="Jenkins credentials configuration" src="../../images/cf_credentials.png" /></p>
</li>
</ul>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>name</th>
<th>mandatory</th>
<th>default</th>
<th>possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiParameters</code></td>
<td>no</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>buildTool</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cfNativeDeployParameters</code></td>
<td>no</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/apiEndpoint</code></td>
<td>no</td>
<td><code>https://api.cf.eu10.hana.ondemand.com</code></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/appName</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/credentialsId</code></td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/manifest</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/manifestVariablesFiles</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/org</code></td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>cloudFoundry/space</code></td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>deployDockerImage</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>deployTool</code></td>
<td>no</td>
<td></td>
<td>'cf_native', 'mtaDeployPlugin'</td>
</tr>
<tr>
<td><code>deployType</code></td>
<td>no</td>
<td><code>standard</code></td>
<td>'standard', 'blue-green'</td>
</tr>
<tr>
<td><code>dockerCredentialsId</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dockerImage</code></td>
<td>no</td>
<td>deployTool=<code>cf_native</code>:<code>ppiper/cf-cli</code><br />deployTool=<code>mtaDeployPlugin</code>:<code>ppiper/cf-cli</code></td>
<td></td>
</tr>
<tr>
<td><code>dockerWorkspace</code></td>
<td>no</td>
<td>deployTool=<code>cf_native</code>:<code>/home/piper</code><br />deployTool=<code>mtaDeployPlugin</code>:<code>/home/piper</code></td>
<td></td>
</tr>
<tr>
<td><code>keepOldInstance</code></td>
<td>no</td>
<td><code>false</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>loginParameters</code></td>
<td>no</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>manifestVariables</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>mtaDeployParameters</code></td>
<td>no</td>
<td><code>-f</code></td>
<td></td>
</tr>
<tr>
<td><code>mtaExtensionCredentials</code></td>
<td>no</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>mtaExtensionDescriptor</code></td>
<td>no</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>mtaPath</code></td>
<td>no</td>
<td>``</td>
<td></td>
</tr>
<tr>
<td><code>script</code></td>
<td>yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>smokeTestScript</code></td>
<td>no</td>
<td><code>blueGreenCheckScript.sh</code></td>
<td></td>
</tr>
<tr>
<td><code>smokeTestStatusCode</code></td>
<td>no</td>
<td><code>200</code></td>
<td></td>
</tr>
<tr>
<td><code>stashContent</code></td>
<td>no</td>
<td><code>[deployDescriptor, pipelineConfigAndTests]</code></td>
<td></td>
</tr>
<tr>
<td><code>verbose</code></td>
<td>no</td>
<td></td>
<td>true, false</td>
</tr>
</tbody>
</table>
<ul>
<li><code>apiParameters</code> - Addition command line options for cf api command. No escaping/quoting is performed. Not recommanded for productive environments.</li>
<li><code>buildTool</code> - </li>
<li><code>cfNativeDeployParameters</code> - Additional parameters passed to cf native deployment command.</li>
<li><code>cloudFoundry/apiEndpoint</code> - Cloud Foundry API endpoint.</li>
<li><code>cloudFoundry/appName</code> - Defines the name of the application to be deployed to the Cloud Foundry space.</li>
<li><code>cloudFoundry/credentialsId</code> - Credentials to be used for deployment.</li>
<li><code>cloudFoundry/manifest</code> - Defines the manifest to be used for deployment to Cloud Foundry.</li>
<li><code>cloudFoundry/manifestVariablesFiles</code> - Defines the manifest variables Yaml files to be used to replace variable references in manifest. This parameter is optional and will default to <code>["manifest-variables.yml"]</code>. This can be used to set variable files like it is provided by <code>cf push --vars-file &lt;file&gt;</code>.  If the manifest is present and so are all variable files, a variable substitution will be triggered that uses the <code>cfManifestSubstituteVariables</code> step before deployment. The format of variable references follows the <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#variable-substitution">Cloud Foundry standard</a>.</li>
<li><code>cloudFoundry/org</code> - Cloud Foundry target organization.</li>
<li><code>cloudFoundry/space</code> - Cloud Foundry target space.</li>
<li><code>deployDockerImage</code> - Docker image deployments are supported (via manifest file in general)[https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#docker]. If no manifest is used, this parameter defines the image to be deployed. The specified name of the image is passed to the <code>--docker-image</code> parameter of the cf CLI and must adhere it's naming pattern (e.g. REPO/IMAGE:TAG). See (cf CLI documentation)[https://docs.cloudfoundry.org/devguide/deploy-apps/push-docker.html] for details.  Note: The used Docker registry must be visible for the targeted Cloud Foundry instance.</li>
<li><code>deployTool</code> - Defines the tool which should be used for deployment. If it is not set it will be inferred automatically based on the buildTool, i.e., for MTA projects <code>mtaDeployPlugin</code> will be used and <code>cf_native</code> for other types of projects.</li>
<li><code>deployType</code> - Defines the type of deployment, either <code>standard</code> deployment which results in a system downtime or a zero-downtime <code>blue-green</code> deployment. If 'cf_native' as deployType and 'blue-green' as deployTool is used in combination, your manifest.yaml may only contain one application. If this application has the option 'no-route' active the deployType will be changed to 'standard'.</li>
<li><code>dockerCredentialsId</code> - If the specified image in <code>deployDockerImage</code> is contained in a Docker registry, which requires authorization this defines the credentials to be used.</li>
<li><code>dockerImage</code> - Name of the docker image that should be used. Configure with empty value to execute the command directly on the Jenkins system (not using a container). Omit to use the default image (cf. <a href="https://github.com/SAP/jenkins-library/blob/master/resources/default_pipeline_environment.yml">default_pipeline_environment.yml</a>) Overwrite to use custom Docker image.</li>
<li><code>dockerWorkspace</code> - Kubernetes only: Specifies a dedicated user home directory for the container which will be passed as value for environment variable <code>HOME</code>.</li>
<li><code>keepOldInstance</code> - In case of a <code>blue-green</code> deployment the old instance will be deleted by default. If this option is set to true the old instance will remain stopped in the Cloud Foundry space.</li>
<li><code>loginParameters</code> - Addition command line options for cf login command. No escaping/quoting is performed. Not recommanded for productive environments.</li>
<li><code>manifestVariables</code> - Defines a <code>List</code> of variables as key-value <code>Map</code> objects used for variable substitution within the file given by <code>manifest</code>. Defaults to an empty list, if not specified otherwise. This can be used to set variables like it is provided by <code>cf push --var key=value</code>.  The order of the maps of variables given in the list is relevant in case there are conflicting variable names and values between maps contained within the list. In case of conflicts, the last specified map in the list will win.  Though each map entry in the list can contain more than one key-value pair for variable substitution, it is recommended to stick to one entry per map, and rather declare more maps within the list. The reason is that if a map in the list contains more than one key-value entry, and the entries are conflicting, the conflict resolution behavior is undefined (since map entries have no sequence).  Note: variables defined via <code>manifestVariables</code> always win over conflicting variables defined via any file given by <code>manifestVariablesFiles</code> - no matter what is declared before. This is the same behavior as can be observed when using <code>cf push --var</code> in combination with <code>cf push --vars-file</code>.</li>
<li><code>mtaDeployParameters</code> - Additional parameters passed to mta deployment command.</li>
<li><code>mtaExtensionCredentials</code> - Defines a map of credentials that need to be replaced in the <code>mtaExtensionDescriptor</code>. This map needs to be created as <code>value-to-be-replaced</code>:<code>id-of-a-credential-in-jenkins</code></li>
<li><code>mtaExtensionDescriptor</code> - Defines additional extension descriptor file for deployment with the mtaDeployPlugin.</li>
<li><code>mtaPath</code> - Defines the path to *.mtar for deployment with the mtaDeployPlugin. If not specified, it will use the mta file created in mtaBuild or search for an mtar file in the workspace.</li>
<li><code>script</code> - The common script environment of the Jenkinsfile running. Typically the reference to the script calling the pipeline step is provided with the <code>this</code> parameter, as in <code>script: this</code>. This allows the function to access the <code>commonPipelineEnvironment</code> for retrieving, e.g. configuration parameters.</li>
<li><code>smokeTestScript</code> - Allows to specify a script which performs a check during blue-green deployment. The script gets the FQDN as parameter and returns <code>exit code 0</code> in case check returned <code>smokeTestStatusCode</code>. More details can be found <a href="https://github.com/bluemixgaragelondon/cf-blue-green-deploy#how-to-use">here</a> <br /> Currently this option is only considered for deployTool <code>cf_native</code>.</li>
<li><code>smokeTestStatusCode</code> - Expected status code returned by the check.</li>
<li><code>stashContent</code> - Specific stashes that should be considered for the step execution.</li>
<li><code>verbose</code> - Provides more output. May reveal sensitive information.</li>
</ul>
<h2 id="step-configuration">Step configuration<a class="headerlink" href="#step-configuration" title="Permanent link">&para;</a></h2>
<p>We recommend to define values of step parameters via <a href="../../configuration/">config.yml file</a>.</p>
<p>In following sections of the config.yml the configuration is possible:</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>general</th>
<th>step/stage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>apiParameters</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>buildTool</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cfNativeDeployParameters</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/apiEndpoint</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/appName</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/credentialsId</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/manifest</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/manifestVariablesFiles</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/org</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>cloudFoundry/space</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>deployDockerImage</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>deployTool</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>deployType</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>dockerCredentialsId</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>dockerImage</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>dockerWorkspace</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>keepOldInstance</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>loginParameters</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>manifestVariables</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>mtaDeployParameters</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>mtaExtensionCredentials</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>mtaExtensionDescriptor</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>mtaPath</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>script</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>smokeTestScript</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>smokeTestStatusCode</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>stashContent</code></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td><code>verbose</code></td>
<td>X</td>
<td>X</td>
</tr>
</tbody>
</table>
<h2 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h2>
<p>The step depends on the following Jenkins plugins</p>
<ul>
<li><a href="https://plugins.jenkins.io/credentials-binding">credentials-binding</a></li>
<li><a href="https://plugins.jenkins.io/docker">docker</a></li>
<li><a href="https://plugins.jenkins.io/kubernetes">kubernetes</a></li>
<li><a href="https://plugins.jenkins.io/pipeline-utility-steps">pipeline-utility-steps</a></li>
<li><a href="https://plugins.jenkins.io/workflow-basic-steps">workflow-basic-steps</a></li>
<li><a href="https://plugins.jenkins.io/workflow-cps-global-lib">workflow-cps-global-lib</a></li>
<li><a href="https://plugins.jenkins.io/workflow-durable-task-step">workflow-durable-task-step</a></li>
</ul>
<p>The kubernetes plugin is only used if running in a kubernetes environment.
Transitive dependencies are omitted.</p>
<p>The list might be incomplete.</p>
<p>Consider using the <a href="https://cloud.docker.com/u/ppiper/repository/docker/ppiper/jenkins-master">ppiper/jenkins-master</a>
docker image. This images comes with preinstalled plugins.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="n">cloudFoundryDeploy</span><span class="o">(</span>
    <span class="nl">script:</span> <span class="n">script</span><span class="o">,</span>
    <span class="nl">deployType:</span> <span class="s1">&#39;blue-green&#39;</span><span class="o">,</span>
    <span class="nl">cloudFoundry:</span> <span class="o">[</span><span class="nl">apiEndpoint:</span> <span class="s1">&#39;https://test.server.com&#39;</span><span class="o">,</span> <span class="nl">appName:</span><span class="s1">&#39;cfAppName&#39;</span><span class="o">,</span> <span class="nl">credentialsId:</span> <span class="s1">&#39;cfCredentialsId&#39;</span><span class="o">,</span> <span class="nl">manifest:</span> <span class="s1">&#39;cfManifest&#39;</span><span class="o">,</span> <span class="nl">org:</span> <span class="s1">&#39;cfOrg&#39;</span><span class="o">,</span> <span class="nl">space:</span> <span class="s1">&#39;cfSpace&#39;</span><span class="o">],</span>
    <span class="nl">deployTool:</span> <span class="s1">&#39;cf_native&#39;</span>
<span class="o">)</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../cloudFoundryDeleteService/" title="cloudFoundryDeleteService" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                cloudFoundryDeleteService
              </span>
            </div>
          </a>
        
        
          <a href="../commonPipelineEnvironment/" title="commonPipelineEnvironment" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                commonPipelineEnvironment
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>